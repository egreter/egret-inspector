# Egret Inspector - é¡¹ç›®å‡çº§å®Œæˆ

## ğŸ“‹ å‡çº§æ€»ç»“

âœ… **æˆåŠŸå°† Egret Inspector ä» Manifest V2 å‡çº§åˆ° Manifest V3**

### ğŸ”„ ä¸»è¦æ›´æ”¹

1. **manifest.json**
   - `manifest_version`: 2 â†’ 3
   - `background.scripts` â†’ `background.service_worker`
   - `permissions` é‡æ„ä¸º `permissions` + `host_permissions`
   - `web_accessible_resources` æ ¼å¼æ›´æ–°
   - æ·»åŠ  `scripting` æƒé™
   - ç‰ˆæœ¬å·æ›´æ–°ä¸º 2.5.6

2. **background.js**ï¼ˆæ–°å¢ï¼‰
   - å®Œå…¨é‡å†™ä¸º Service Worker å…¼å®¹æ ¼å¼
   - ä½¿ç”¨ `chrome.scripting.executeScript` æ›¿ä»£åºŸå¼ƒçš„ `chrome.tabs.executeScript`
   - ä¿æŒæ‰€æœ‰åŸæœ‰é€šä¿¡åŠŸèƒ½

3. **ç‰ˆæœ¬ä¿¡æ¯æ›´æ–°**
   - æ›´æ–°é¢æ¿ä¸­çš„ç‰ˆæœ¬å±•ç¤º
   - æ›´æ–°ç‰ˆæœ¬æ£€æŸ¥é€»è¾‘

4. **æ–‡æ¡£æ›´æ–°**
   - å®Œå…¨é‡å†™ README.md
   - æ–°å¢ INSTALL_GUIDE.md
   - æ·»åŠ å‡çº§éªŒè¯è„šæœ¬

### ğŸ—‚ï¸ æ–‡ä»¶ç»“æ„

```
egret-inspector/
â”œâ”€â”€ manifest.json          # âœ… å‡çº§åˆ° V3
â”œâ”€â”€ background.js           # ğŸ†• Service Worker
â”œâ”€â”€ devtools.html          # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ devtoolinit.js         # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ contentScripts.min.js  # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ injectScripts.min.js   # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ icon.png              # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ ipt/
â”‚   â”œâ”€â”€ panel/
â”‚   â”‚   â”œâ”€â”€ index.html     # âœ… æ›´æ–°ç‰ˆæœ¬ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”‚   â””â”€â”€ Loader.js  # âœ… æ›´æ–°ç‰ˆæœ¬æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ style/
â”‚   â”‚       â””â”€â”€ devtool.css # âœ… ä¿æŒä¸å˜
â”‚   â””â”€â”€ lib/
â”‚       â””â”€â”€ jquery-2.1.1.min.js # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ docs/                  # âœ… ä¿æŒä¸å˜
â”œâ”€â”€ README.md             # ğŸ”„ å®Œå…¨é‡å†™
â”œâ”€â”€ INSTALL_GUIDE.md      # ğŸ†• å®‰è£…æŒ‡å—
â””â”€â”€ verify_upgrade.sh     # ğŸ†• éªŒè¯è„šæœ¬
```

### ğŸ¯ ä¿æŒçš„åŠŸèƒ½

âœ… æ‰€æœ‰åŸæœ‰æ ¸å¿ƒåŠŸèƒ½å®Œæ•´ä¿ç•™ï¼š
- DevTools é¢æ¿é›†æˆ
- æ˜¾ç¤ºå¯¹è±¡æ ‘æŸ¥çœ‹
- å±æ€§å®æ—¶ç¼–è¾‘
- æ€§èƒ½ç›‘æ§ï¼ˆFPSï¼‰
- é«˜äº®æ˜¾ç¤ºåŠŸèƒ½
- æœç´¢åŠŸèƒ½
- ä¸Šä¸‹æ–‡èœå•
- æ‰€æœ‰è°ƒè¯•å·¥å…·

### ğŸ›¡ï¸ å®‰å…¨æ€§æ”¹è¿›

- ç§»é™¤ä¸å¿…è¦çš„æƒé™ï¼ˆ`system.cpu`, `nativeMessaging`ï¼‰
- ä½¿ç”¨æ›´ç²¾ç¡®çš„ `host_permissions`
- é‡‡ç”¨ Service Worker æ¶æ„æé«˜ç¨³å®šæ€§

### ğŸ”§ å…¼å®¹æ€§

- âœ… æ”¯æŒæœ€æ–°ç‰ˆ Chrome
- âœ… å…¼å®¹ Manifest V3 è¦æ±‚
- âœ… å‘åå…¼å®¹æ‰€æœ‰ Egret 5.0+ é¡¹ç›®

### ğŸ“¦ å®‰è£…æ–¹å¼

1. å¼€å¯ Chrome å¼€å‘è€…æ¨¡å¼
2. åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº
3. é€‰æ‹©é¡¹ç›®æ–‡ä»¶å¤¹
4. åœ¨ DevTools ä¸­ä½¿ç”¨ Egret æ ‡ç­¾é¡µ

### âš¡ ç«‹å³å¯ç”¨

é¡¹ç›®å·²å®Œæˆå‡çº§ï¼Œå¯ä»¥ç«‹å³åœ¨æœ€æ–°ç‰ˆ Chrome ä¸­ä½¿ç”¨ï¼

---

**å‡çº§å®Œæˆæ—¶é—´**: 2025å¹´
**ç›®æ ‡ç‰ˆæœ¬**: Manifest V3  
**çŠ¶æ€**: âœ… å®Œæˆå¹¶éªŒè¯é€šè¿‡
